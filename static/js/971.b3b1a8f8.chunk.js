"use strict";(self.webpackChunkpimemes_frontend=self.webpackChunkpimemes_frontend||[]).push([[971],{971:(e,r,a)=>{a.r(r),a.d(r,{default:()=>i});var l=a(950),t=a(429),s=a(848),n=a(414);function i(){const{updateProfile:e}=(0,s.A)(),[r,a]=(0,l.useState)({username:"",email:"",bio:"",avatar:null}),[i,o]=(0,l.useState)({}),[c,m]=(0,l.useState)(!1),[d,u]=(0,l.useState)(null),x=(0,t.Zp)(),h=e=>{const{name:r,value:l}=e.target;a((e=>({...e,[r]:l}))),i[r]&&o((e=>({...e,[r]:null})))};return(0,n.jsx)("div",{className:"min-h-screen flex flex-col",children:(0,n.jsx)("div",{className:"flex-1 flex items-center justify-center p-6",children:(0,n.jsx)("div",{className:"w-full max-w-md",children:(0,n.jsxs)("div",{className:"bg-dark border border-royalPurple rounded-lg p-6 shadow-lg",children:[(0,n.jsxs)("div",{className:"text-center mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gold mb-2",children:"Create Your Profile"}),(0,n.jsx)("p",{className:"text-lightGray",children:"Set up your PiMemes profile"})]}),(0,n.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),(()=>{const e={};return r.username.trim()?r.username.length<3&&(e.username="Username must be at least 3 characters"):e.username="Username is required",r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(e.email="Email is invalid"):e.email="Email is required",o(e),0===Object.keys(e).length})()){m(!0);try{await e({username:r.username,email:r.email,bio:r.bio,avatar:d}),x("/home")}catch(l){console.error("Error creating profile:",l),o({submit:"Failed to create profile. Please try again."})}finally{m(!1)}}},className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,n.jsx)("div",{className:"w-24 h-24 rounded-full bg-royalPurple bg-opacity-30 flex items-center justify-center overflow-hidden border-2 border-royalPurple mb-2",style:{backgroundImage:d?`url(${d})`:"none",backgroundSize:"cover",backgroundPosition:"center"},children:!d&&(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-royalPurple",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,n.jsxs)("label",{className:"bg-royalPurple text-gold text-sm py-1 px-3 rounded-full cursor-pointer hover:bg-opacity-90 transition-all",children:["Upload Avatar",(0,n.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{const r=e.target.files[0];if(r){a((e=>({...e,avatar:r})));const e=new FileReader;e.onloadend=()=>{u(e.result)},e.readAsDataURL(r)}}})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{htmlFor:"username",className:"block text-sm font-medium text-lightGray mb-1",children:["Username ",(0,n.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,n.jsx)("input",{type:"text",id:"username",name:"username",value:r.username,onChange:h,className:`w-full bg-dark border ${i.username?"border-red-500":"border-gray-700"} rounded-lg p-3 text-lightGray focus:outline-none focus:ring-1 focus:ring-royalPurple`,placeholder:"Enter a unique username"}),i.username&&(0,n.jsx)("p",{className:"mt-1 text-xs text-red-500",children:i.username})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-lightGray mb-1",children:["Email ",(0,n.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,n.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,onChange:h,className:`w-full bg-dark border ${i.email?"border-red-500":"border-gray-700"} rounded-lg p-3 text-lightGray focus:outline-none focus:ring-1 focus:ring-royalPurple`,placeholder:"Enter your email"}),i.email&&(0,n.jsx)("p",{className:"mt-1 text-xs text-red-500",children:i.email})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-lightGray mb-1",children:"Bio (Optional)"}),(0,n.jsx)("textarea",{id:"bio",name:"bio",value:r.bio,onChange:h,rows:"3",className:"w-full bg-dark border border-gray-700 rounded-lg p-3 text-lightGray focus:outline-none focus:ring-1 focus:ring-royalPurple",placeholder:"Tell us about yourself"})]}),(0,n.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-royalPurple text-gold py-3 px-4 rounded-lg flex items-center justify-center hover:bg-opacity-90 transition-all disabled:opacity-70 mt-6",children:c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-gold",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Profile..."]}):"Create Profile"}),(0,n.jsx)("div",{className:"text-center mt-4",children:(0,n.jsx)("button",{type:"button",onClick:()=>x("/home"),className:"text-sm text-gray-400 hover:text-gold",children:"Skip for now"})})]})]})})})})}}}]);